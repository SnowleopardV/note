<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>香港疫情数据大屏</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <h1 class="text-center my-4">香港各区疫情数据可视化</h1>
        <div class="row">
            <div class="col-md-6">
                <div id="mainChart" style="height:600px;"></div>
            </div>
        </div>
    </div>

    <script>
        // 初始化ECharts实例
        let myChart = echarts.init(document.getElementById('mainChart'));

        // 从后端获取数据
        fetch('/data')
            .then(response => response.json())
            .then(data => {
                // 处理数据并配置图表
                let option = {
                    title: { text: '各区确诊人数统计' },
                    tooltip: {},
                    xAxis: {
                        type: 'category',
                        data: data.map(item => item.地区)
                    },
                    yAxis: { type: 'value' },
                    series: [{
                        type: 'bar',
                        data: data.map(item => item.确诊人数)
                    }]
                };
                myChart.setOption(option);
            });
    </script>
</body>
</html>